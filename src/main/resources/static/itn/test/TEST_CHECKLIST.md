# 🧪 行程卡片元件測試檢查清單

## 📋 **測試前準備**

### ✅ 環境檢查
- [ ] Spring Boot 應用程式已啟動
- [ ] 資料庫連接正常
- [ ] 行程資料已存在於資料庫中
- [ ] 瀏覽器支援 ES6+ 和 fetch API

### ✅ 檔案檢查
- [ ] `itn-trip-card.js` - 主要元件檔案
- [ ] `itn-trip-card-loader.js` - 自動載入器
- [ ] `itn-trip-card-data.js` - 資料範本
- [ ] `quick-test-itn.js` - 快速測試腳本

## 🚀 **快速測試流程**

### 1. **API 端點測試**
```bash
# 基本測試
curl "http://localhost:8080/api/itinerary/cards?limit=3"

# 搜尋測試
curl "http://localhost:8080/api/itinerary/cards?keyword=台北&limit=2"

# 篩選測試
curl "http://localhost:8080/api/itinerary/cards?isPublic=true&limit=2"
```

**預期結果：**
- [ ] 返回 JSON 格式資料
- [ ] `success` 欄位為 `true`
- [ ] `data` 陣列包含行程資料
- [ ] 每個行程包含必要欄位：`id`, `title`, `date`, `duration`, `groupSize`, `price`, `itinerary`

### 2. **瀏覽器測試**

#### **步驟 1：開啟測試頁面**
```
http://localhost:8080/static/itn/test/test-itn-trip-card.html
```

#### **步驟 2：執行自動測試**
1. 按 `F12` 開啟開發者工具
2. 切換到 `Console` 分頁
3. 執行：`runItnTests()`

#### **步驟 3：檢查測試結果**
- [ ] 測試結果視窗出現在右上角
- [ ] 所有測試項目都顯示 ✅
- [ ] 成功率達到 100%

### 3. **手動功能測試**

#### **基本渲染測試**
- [ ] 頁面載入後顯示行程卡片
- [ ] 卡片樣式正確顯示
- [ ] 卡片內容完整（標題、日期、價格等）

#### **互動功能測試**
- [ ] 點擊卡片可觸發事件
- [ ] 點擊報名按鈕可觸發事件
- [ ] 點擊詳情按鈕可觸發事件
- [ ] 滑鼠懸停效果正常

#### **搜尋功能測試**
- [ ] 搜尋框可輸入文字
- [ ] 搜尋結果正確篩選
- [ ] 無結果時顯示適當訊息

#### **篩選功能測試**
- [ ] 篩選選項可正常切換
- [ ] 篩選結果正確顯示
- [ ] 重置篩選功能正常

## 🔍 **詳細測試項目**

### **API 測試**
- [ ] **GET /api/itinerary/cards** - 基本資料載入
- [ ] **GET /api/itinerary/cards?limit=5** - 限制數量
- [ ] **GET /api/itinerary/cards?keyword=台北** - 關鍵字搜尋
- [ ] **GET /api/itinerary/cards?isPublic=true** - 公開行程篩選
- [ ] **GET /api/itinerary/cards?category=文化景點** - 分類篩選
- [ ] **GET /api/itinerary/cards?priceMin=500&priceMax=1000** - 價格範圍篩選

### **元件功能測試**
- [ ] **ItnTripCardComponent** 類別載入
- [ ] **createItnTripCards** 函數可用
- [ ] **ItnTripCardLoader** 類別載入
- [ ] **loadItineraryCards** 函數可用
- [ ] 資料驗證功能正常
- [ ] 錯誤處理機制正常

### **資料格式測試**
- [ ] 行程基本資料格式正確
- [ ] 行程項目資料格式正確
- [ ] 必要欄位都存在
- [ ] 資料類型正確（字串、數字、陣列等）

### **UI/UX 測試**
- [ ] 響應式設計在不同螢幕尺寸下正常
- [ ] 載入動畫正常顯示
- [ ] 錯誤訊息清楚易懂
- [ ] 無障礙功能正常（鍵盤導航、螢幕閱讀器等）

## 🐛 **常見問題排查**

### **API 錯誤**
- [ ] 檢查應用程式是否正常啟動
- [ ] 檢查資料庫連接
- [ ] 檢查行程資料是否存在
- [ ] 檢查 API 路徑是否正確

### **元件載入錯誤**
- [ ] 檢查 JavaScript 檔案路徑
- [ ] 檢查瀏覽器控制台錯誤訊息
- [ ] 檢查檔案是否正確載入
- [ ] 檢查依賴項是否完整

### **樣式問題**
- [ ] 檢查 CSS 檔案是否載入
- [ ] 檢查樣式衝突
- [ ] 檢查瀏覽器相容性
- [ ] 檢查 CSS 選擇器是否正確

### **資料顯示問題**
- [ ] 檢查 API 返回資料格式
- [ ] 檢查資料驗證邏輯
- [ ] 檢查渲染函數
- [ ] 檢查事件綁定

## 📊 **效能測試**

### **載入時間**
- [ ] 頁面初始載入時間 < 2 秒
- [ ] API 請求回應時間 < 1 秒
- [ ] 卡片渲染時間 < 500ms

### **記憶體使用**
- [ ] 檢查記憶體洩漏
- [ ] 大量資料載入時效能正常
- [ ] 元件銷毀時正確清理資源

## 🎯 **整合測試**

### **揪團模組整合**
- [ ] 在揪團頁面中正常顯示行程卡片
- [ ] 行程選擇功能正常
- [ ] 資料同步正常

### **其他模組整合**
- [ ] 會員模組權限檢查正常
- [ ] 通知模組事件觸發正常
- [ ] 訂單模組資料傳遞正常

## 📝 **測試報告範本**

```markdown
# 測試報告

**測試日期：** [日期]
**測試人員：** [姓名]
**測試環境：** [瀏覽器版本、作業系統等]

## 測試結果摘要
- 總測試數：X
- 通過：X
- 失敗：X
- 成功率：X%

## 詳細結果
- [ ] API 端點測試：✅/❌
- [ ] 元件功能測試：✅/❌
- [ ] UI/UX 測試：✅/❌
- [ ] 效能測試：✅/❌
- [ ] 整合測試：✅/❌

## 發現問題
1. [問題描述]
2. [問題描述]

## 建議改進
1. [改進建議]
2. [改進建議]

## 結論
[測試結論]
```

## 🚨 **緊急處理**

### **如果測試失敗**
1. 檢查瀏覽器控制台錯誤訊息
2. 檢查網路請求狀態
3. 檢查伺服器日誌
4. 重新啟動應用程式
5. 清除瀏覽器快取

### **如果 API 無回應**
1. 檢查應用程式狀態
2. 檢查資料庫連接
3. 檢查防火牆設定
4. 檢查端口是否被佔用

---

**💡 提示：** 建議在每次修改後都執行完整測試，確保功能正常運作。 